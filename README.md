# ICMP Monitoring Server (pinger)
Мой старый проект (2020-2021) <br>
У заказчика была старая программа мониторинга сети, и разработчики давно перестали её поддерживать. При обновлении ОС на всех ПК в компании заказчика, программа мониторинга перестала запускаться. <br>
Искать альтернативы никто не хотел, и было решено сделать похожее ПО (по интрефейсу)

[Репозиторий клиентской части (Tkinter)](https://github.com/sita8281/icmp_pinger_client_v1)

#### Сервер включает в себя:
* Мониторинг хостов в сети по протоколу ICMP
* Авторизация, аутентификация пользателей
* Разделение прав пользателей
* Хранение состояний хостов в БД
* Редактирование, удаление, добавление хостов и папок
* Автоматическое перемещение нерабочих хостов в папку "deads"
* Настройка интервала проверки, кол-во icmp пакетов на хост, и т.д
* Логирование событий
* Веб сервер для доступа с мобильных устройств (mirco HTTP)
* TCP сервер для доступа с desktop (tkinter)
* База данных SQLite

#### Основа сервера:
* выполнен на asyncio
* библиотека мониторинга: icmplib
* веб сервер выполнен без использования фреймворков
* протокол tcp сервера написан самостоятельно (struct, zlib, json)


#### Схема сервера
![schem](/demo/schem.png)


## Установка, настройка и запуск 

Клонируем
``` 
git clone https://github.com/sita8281/icmp_pinger_server_v1.git
```

Базовые настройки в файле (можно настроить под себя)
```ini
# icmp_pinger_server_v1/server.settings.ini

Ip = 0.0.0.0               # привязка ко всем адресам контейнера
TcpPort = 2323             # порт TCP сервера для Desktop
HttpPort = 8080            # порт WEB сервера
TimeoutConnection = 5      # максимальное время простоя клиента
DefaultAdminLogin = root   # логин по умолчанию
DefaultAdminPassw = admin  # пароль по умолчанию

```

Собираем Docker-image
```
sudo docker build -t pinger_server:v1 <путь к репозиторию>
```

Запуск Docker контейнера
```
sudo docker run -d -p 2323:2323 -p 8000:8080 pinger_server:v1
```

После запуска:
* по адресу 127.0.0.1:2323 будет доступен TCP сервер
* по адресу 127.0.0.1:8000 будет доступен Web сервер

## Demo

[Репозиторий клиентской части (Tkinter)](https://github.com/sita8281/icmp_pinger_client_v1)
#### Интерфейс web-сервера
![web](demo/demo.gif)











